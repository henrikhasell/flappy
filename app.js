!function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){!function(){let e={force:6.2,speed:2.4,variance:200,pipe:{delay:100,gap:88}},t={point:new Howl({src:["/audio/point.ogg","/audio/point.mp3"]}),hit:new Howl({src:["/audio/hit.ogg","/audio/hit.mp3"]}),wing:new Howl({src:["/audio/wing.ogg","/audio/wing.mp3"]})},o=new Date,i=0,n=Matter.Engine.create(),r=Matter.Runner.create({delta:1e3/60}),a=Matter.Bodies.circle(50,0,10,{friction:1,restitution:.9}),s=Matter.Bodies.rectangle(400,544,800,112,{isStatic:!0}),d=Matter.Bodies.rectangle(400,-100,800,10,{isStatic:!0}),l=Matter.Bodies.rectangle(-200,300,10,600,{isSensor:!0}),p=[],c=[],u=[0,336],g=0,y=0,h=0,f=1;PIXI.settings.SCALE_MODE=PIXI.SCALE_MODES.NEAREST;let I,m,w,b,x,P,M,v,X,S,C,B,A,E,k,O=new PIXI.Application,T=new PIXI.Graphics,_=new PIXI.Container,j=new PIXI.Container;function R(){return(new Date).getTime()-o.getTime()}function D(){if(!(i>0))switch(f){case 2:for(;p.length>0;)Matter.World.remove(n.world,p.pop());for(;c.length>0;)Matter.World.remove(n.world,c.pop());for(f=1,g=0,h=0,i=20;b.length>0;){let e=b.pop();O.stage.removeChild(e),e.destroy()}P.visible=!1,A.visible=!0,I.play(),o=new Date;break;case 1:m.text="0",m.visible=!0,A.visible=!1,f=0;case 0:Matter.Body.setVelocity(a,{x:0,y:-e.force}),t.wing.play()}}function H(t,o){let i=(225+e.pipe.gap/2)*(o?-1:1),r=Matter.Bodies.rectangle(350,t+i,52,450,{isStatic:!0,angle:o?Math.PI:0});return Matter.World.add(n.world,r),p.push(r),r}function W(e,t){let n=new XMLHttpRequest;n.open("POST","Home/SubmitGame",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("score="+e),S.alpha=0,m.visible=!1,P.alpha=0,P.position.y=0,P.visible=!0,M.text=""+e,v.text=""+t,I.stop(),i=20,o=new Date}Matter.World.add(n.world,[a,s,d,l]),Matter.Events.on(n,"tick",t=>{let o={x:-e.speed,y:0};switch(f){case 0:if(--g<=0){let t=Math.random()*e.variance-e.variance/2+300;for(let e of[!0,!1])H(t,e);let o=Matter.Bodies.rectangle(350,300,5,600,{isStatic:!0,isSensor:!0});Matter.World.add(n.world,o),c.push(o),g=e.pipe.delay}a.angle=-45*Math.PI/180,a.velocity.y>0&&(a.angle+=Math.min(135*Math.PI/180,.3*a.velocity.y));break;case 1:Matter.Body.setPosition(a,{x:50,y:275+15*Math.sin(R()/250)}),Matter.Body.setVelocity(a,{x:0,y:0}),Matter.Body.setAngle(a,0),Matter.Body.setAngularVelocity(a,0);break;case 2:o={x:0,y:0}}for(let e in u)u[e]+=o.x,u[e]<-336&&(u[e]+=336*u.length);for(let e of p)Matter.Body.setPosition(e,{x:e.position.x+o.x,y:e.position.y+o.y}),Matter.Body.setVelocity(e,o);for(let e of c)Matter.Body.setPosition(e,{x:e.position.x+o.x,y:300});Matter.Body.setVelocity(s,o),Matter.Body.setPosition(l,{x:-100,y:300}),i--}),window.onkeydown=(e=>{" "!=e.key||e.repeat||D()}),Matter.Events.on(n,"collisionStart",e=>{for(let o of e.pairs){let e=[[o.bodyA,o.bodyB],[o.bodyB,o.bodyA]];for(let o of e)switch(o[0]){case a:if(0==f){let e=!1;for(let i=0;i<c.length;i++)if(c[i]==o[1]){Matter.World.remove(n.world,c[i]),c.splice(i,1),t.point.play(),++h>=y&&(y=h),m.text=""+h,e=!0;break}e||(f=2,i=20,W(h,y),t.hit.play())}break;case l:for(let e=0;e<p.length;e++)if(p[e]==o[1]){Matter.World.remove(n.world,p[e]),p.splice(e,1);break}}}}),Matter.Runner.run(r,n),PIXI.settings.SCALE_MODE=PIXI.SCALE_MODES.NEAREST,O=new PIXI.Application,_=new PIXI.Container,j=new PIXI.Container,PIXI.loader.add(["/images/bluebird-downflap.png","/images/bluebird-midflap.png","/images/bluebird-upflap.png","/images/floor.png","/images/pipe-green.png","/images/background.png","/images/score.png","/images/add-to-leaderboard.png","/images/add-to-leaderboard-glow.png","/images/restart.png","/images/share.png","/images/title.png","/fonts/score.xml"]).on("complete",(e,t)=>{O.view.ontouchend=(()=>{O.view.webkitRequestFullscreen()}),window.onresize=(()=>{let e=O.view.clientWidth,t=O.view.clientHeight,o=e/t;if(o>=.82||o<.48){let o=e*(600/t);O.stage.x=o/2-144,O.stage.y=0,O.renderer.resize(o,600)}else{let o=t*(288/e);O.stage.x=0,O.stage.y=o/2-300,O.renderer.resize(288,o)}k=240,o<.54?A.position.y=m.position.y=75:o<.57?A.position.y=m.position.y=100:o<.65?A.position.y=m.position.y=125:o<.75?A.position.y=m.position.y=150:o<.82?(A.position.y=m.position.y=190,O.stage.y-=20,k+=30):A.position.y=m.position.y=100}),(I=new PIXI.extras.AnimatedSprite([PIXI.loader.resources["/images/bluebird-downflap.png"].texture,PIXI.loader.resources["/images/bluebird-midflap.png"].texture,PIXI.loader.resources["/images/bluebird-upflap.png"].texture,PIXI.loader.resources["/images/bluebird-midflap.png"].texture])).play(),(A=new PIXI.Sprite(PIXI.loader.resources["/images/title.png"].texture)).position.x=144,A.position.y=150,A.anchor.x=.5,A.anchor.y=.5,(P=new PIXI.Sprite(PIXI.loader.resources["/images/score.png"].texture)).anchor.x=.5,P.anchor.y=.5,P.position.x=144,P.position.y=240,P.visible=!1,(M=new PIXI.extras.BitmapText("0",{font:"36px Score"})).anchor.x=.5,M.anchor.y=.5,M.position.y=-30,(v=new PIXI.extras.BitmapText("0",{font:"36px Score"})).anchor.x=.5,v.anchor.y=.5,v.position.y=44,(X=new PIXI.Sprite(PIXI.loader.resources["/images/add-to-leaderboard.png"].texture)).anchor.x=.5,X.anchor.y=.5,X.position.y=170,(S=new PIXI.Sprite(PIXI.loader.resources["/images/add-to-leaderboard-glow.png"].texture)).anchor.x=.5,S.anchor.y=.5,S.position.x=X.position.x,S.position.y=X.position.y,(C=new PIXI.Sprite(PIXI.loader.resources["/images/restart.png"].texture)).anchor.x=.5,C.anchor.y=.5,C.position.x=50,C.position.y=135,(B=new PIXI.Sprite(PIXI.loader.resources["/images/share.png"].texture)).anchor.x=.5,B.anchor.y=.5,B.position.x=-50,B.position.y=135,X.interactive=!0,X.buttonMode=!0,X.on("pointerup",()=>{if(i>0)return;let e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name","value"),e.setAttribute("value",""+h);let t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","validate"),t.setAttribute("value","false");let o=document.createElement("form");o.method="post",o.action="Home/Leaderboard",o.appendChild(e),o.appendChild(t),document.body.appendChild(o),o.submit()}),B.interactive=!0,B.buttonMode=!0,B.on("pointerup",()=>{}),C.interactive=!0,C.buttonMode=!0,C.on("pointerup",()=>{D()}),(E=new PIXI.Graphics).beginFill(16711680,0),E.drawRect(0,0,288,600),E.interactive=!0,E.on("pointerdown",()=>{D()}),P.addChild(M),P.addChild(v),P.addChild(S),P.addChild(X),P.addChild(C),P.addChild(B),T.beginFill(16777215,1),T.drawRect(0,0,288,600),O.stage.mask=T,I.anchor.x=.5,I.anchor.y=.5,I.loop=!0,I.animationSpeed=.15,(m=new PIXI.extras.BitmapText("0",{font:"36px Score"})).position.x=144,m.position.y=150,m.visible=!1,m.anchor.x=.5,m.anchor.y=.5,x=[];let o=PIXI.loader.resources["/images/floor.png"].texture;for(let e=0;e<2;e++){let e=new PIXI.Sprite(o);e.position.y=600-o.height,j.addChild(e),x.push(e)}b=[],w=new PIXI.Sprite(PIXI.loader.resources["/images/background.png"].texture),O.stage.addChild(w),O.stage.addChild(_),O.stage.addChild(j),O.stage.addChild(I),O.stage.addChild(m),O.stage.addChild(E),O.stage.addChild(P),O.stage.addChild(A),O.stage.addChild(T),document.body.appendChild(O.view),window.onresize(null),function e(){let t=a.position,o=a.angle;I.position.x=t.x,I.position.y=t.y,I.rotation=o;for(let e in u)x[e].position.x=u[e];for(let e in p){let t=b[e],o=p[e];void 0==t?((t=b[e]=new PIXI.Sprite(PIXI.loader.resources["/images/pipe-green.png"].texture)).anchor.x=.5,t.anchor.y=.5,_.addChild(t)):t.visible=!0,t.position.x=o.position.x,t.position.y=o.position.y,t.rotation=o.angle}for(let e=p.length;e<b.length;e++)b[e].visible=!1;let i=R();S.alpha=(1-Math.cos(i/250))/2,P.position.y=Math.min(i,k),P.alpha=Math.min(i/250,1),window.requestAnimationFrame(t=>{e()})}()}).load()}(),window.fbAsyncInit=function(){FB.init({appId:"282422095623841",version:"v2.12"})},function(e,t,o){var i,n=e.getElementsByTagName(t)[0];e.getElementById(o)||((i=e.createElement(t)).id=o,i.src="https://connect.facebook.net/en_GB/sdk.js",n.parentNode.insertBefore(i,n))}(document,"script","facebook-jssdk")}]);